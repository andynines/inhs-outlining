LEFT OFF
Normalize efds to get them all on same locus for classification

"geometric callsign?"
Big recurring idea: there are the feature efds and the working efds. In order to maximize distinguishability, we may have to make irreversible transformations/normalizations to the efds.


remove any unneeded efd columns
variance pca, does first 30 of 95% = 60%?
cosine similarity between efds?
do feature reduction experiments
try bigger k in knn. What k should we use for as many samples as we have?
explicitly deal with knn ties. Try taking the class who has a distance from the sample closest to the average of all distances of the nearest ponits

TODOS FOR THIS WEEK
Start writing stuff!
Find a target journal/event
Clean up these notes more
Remember to whiten when doing PCA; there's a named parameter for this

NOTES ON THESIS PAPER
Why outlines (specimen features) are important, in the context of fish
Phenotypical traits (vs. genotypical)
Exploring variation among species (an artificial label) and when something deserves to be called a new species
Measuring an outline manually as a domain expert is not feasible. Computational approaches unlock a new realm of possibilities
explain progression form Breen features -> Fourier Descriptors
and progression of outline extraction techniques
The outline is one of many features
Example scientific questions that we could answer with these
The why: trait extraction is a major problem in itself for BGNN, and we need outlines along with many other traits.
Fourier analysis provides DISCRIMINATING features
Need to round up whole data curation process somewhere. Your week 2 report sort of does it but the details of what got dropped for detectron reasons might be wrong; look back farther in your presentations. And we now also dropped Lepomis Hybrids and loners

NOTES ON BGNN PRESENTATION
Include the coverage of my dataset and how I arrived at those particular fish. How many species, genuses, etc.? See Spring Week 2 report for info.
Make tons of graphs; the BGNN people love em!
Aim for 10-12 minutes.
Slide ideas: motivations (on Yasin's wishlist), vague scientific/biological questions regarding comparison of species, shapes, changes over time, geography, phenotypical analysis. Also CS-related interest
Plan, what I did, iterations, outcomes
Put slides in shared file ideally before next meeting
Demonstrate fish morphing (at least one example)
Include final slide with all MRC publications - send to Joel for help. Jane can add to it too
Expect Jane to hop in at end and plug MRC

GENERAL AREAS TO LOOK INTO IF TIME PERMITS
Alignment comparisons
Hierarchical clustering (see Titan lake paper)
Projections from centroids
interpolating between fish shapes?
Dynamic time warp analysis of signals. Signals align, fall apart from each other, and then align again There's a package called python-dtw for it.
What about using hidden markov models for recognizing common contour shapes? I think there's a handwriting recognition parallel here.
Data augmentation via translations, reflections, and dropout
"Antennae" of catfish create weird components of outline; see 42539 for example.
Improve outlining by looking at the gradient of the saturation histogram. Maybe the location of the largest difference is the best threshold? Also take into account distance from the bottom mean.
Modify the contour error metric by using an "interpolating Hausdorff distance"
Classification via nearest centroid (I can imagine scenarios where this might not be as good as kNN)
Using other shape descriptors to add to each outline's feature vector (see https://docs.opencv.org/3.4/d3/dc0/group__imgproc__shape.html)

METHODS/DETAILS WE ARE DECIDEDLY NOT INTERESTED IN
Zahn-Roskies shape functions
Eigenshapes
Outlining using edge detection. We just can't seem to get a closed contour using Canny and the like.

GENERAL INTERESTING THINGS TO REMEMBER
The curse of dimensionality - as dimensions increase, everything becomes equidistantly big! Especially when the number of samples is less than the number of features.
Ground truth errors? automated methods to detect them
Voronoi diagrams
Wavelet fourier descriptors? Just something I've read
Landmarks? What defines one?
Discontinuities in curvature, e.g. the tip of a shark's back fin, could help us compute the potentially feature of distance between extremal points / landmarks
Remember to properly cite all libraries used, like PyEFD and Sklearn and Python-DTW

Different distance metrics
Visualize 3-dimensional feature space for lots of samples and multiple classes
Try knn with k=3, 5, ...
Test knn edge cases like 3 different classes like k=3
For 100 samples, at least k=5
Technique for visualizing high dimensional spaces?

Alternatively, a level set evolution with a velocity proportional to distances?
As a boundary pixel, look at your non-boundary, non-interior neighbors. "exterior", background pixel
If this distance is below a certain threshold, then the exterior pixel becomes the new boundary
A more iterative process based on an initial guess
Oh, and we'd also want to look at interior neighbors because you could be over-segmenting

To compute curvature on a chain code, hit it with a gaussian filter to blur it, turn it into grayscale, and then compute iso line curvatures on that grayscale image using preexisting formulas
What's the right spatial resolution where there's distinguishing qualities of the fish's curvature?

1. extracting outline
2. computing curvature -> initial "signal" that we could use
https://arxiv.org/pdf/1407.7340.pdf
https://math.mit.edu/classes/18.086/2007/levelsetnotes.pdf

key phrase: level set method / level set curvature
equation 4 in his given paper to compute curvatures of gaussian-blurred version of jagged binary image

We have the segmentation boundary so at any point we know in what general direction "out" is

Notion of uniform tension of a string wrapped around the fish
Breen looked into something like it a long time ago (see paper) but probably over-complex
https://ieeexplore.ieee.org/document/146367
